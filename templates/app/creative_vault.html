{% extends "base.html" %}

{% block title %}{{ 'Creative Vault | Tactics Intelligence' if locale == 'en' else 'Bóveda Creativa | Tactics
Intelligence' }}{% endblock %}

{% block content %}
<div x-data="{ sidebarToggle: false, darkMode: false, pageName: '{{ 'Creative Vault' if locale == 'en' else 'Bóveda Creativa' }}', isSidebarOpen: false }"
    :class="darkMode ? 'dark' : ''" class="flex h-screen overflow-hidden bg-white dark:bg-black">
    <!-- Sidebar -->
    {% include 'partials/sidebar_app.html' %}

    <!-- Main Content Wrapper -->
    <div class="relative flex flex-1 flex-col overflow-y-auto overflow-x-hidden">
        <!-- Header -->
        {% include 'partials/header_app.html' %}

        <!-- Content Area -->
        <main class="flex-1 flex flex-col h-full relative">
            <div class="relative flex flex-1 flex-col overflow-x-hidden h-full">
                <!-- Breadcrumb Start -->
                <div class="px-4 md:px-6 2xl:px-10 pt-4">
                    {% include "partials/aichat_breadcrumb.html" %}
                </div>
                <!-- Breadcrumb End -->

                <!-- Content Start -->
                <div class="relative flex-1 px-4 xl:flex xl:px-0 overflow-hidden">
                    <!-- Mobile Chat Header  -->
                    <div
                        class="my-6 flex items-center justify-between rounded-2xl border border-gray-100 bg-white p-3 xl:hidden dark:border-gray-800 dark:bg-gray-900 shadow-sm">
                        <h4 class="pl-2 text-lg font-bold text-gray-900 dark:text-white">
                            {{ 'History' if locale == 'en' else 'Historial' }}
                        </h4>
                        <button @click="isSidebarOpen = true"
                            class="inline-flex h-11 w-11 items-center justify-center rounded-xl border border-gray-100 text-gray-700 dark:border-gray-800 dark:text-gray-400">
                            <span class="material-symbols-outlined">menu</span>
                        </button>
                    </div>

                    <!-- Chat Area -->
                    <div class="flex-1 xl:py-10 overflow-y-auto custom-scrollbar pb-[100px] px-4 md:px-6">
                        <div class="relative mx-auto flex max-w-[720px] flex-col">
                            <div class="space-y-7 pb-10 lg:pb-7">
                                <!-- User Message -->
                                <div class="flex justify-end animate-fadeIn">
                                    <div
                                        class="shadow-sm bg-indigo-50 dark:bg-indigo-900/30 max-w-[80%] rounded-2xl rounded-tr-none px-5 py-4">
                                        <p class="text-left text-sm font-medium text-gray-900 dark:text-white">
                                            {{ 'Generate 2 abstract images with purple and pink colors for Instagram
                                            Story' if locale == 'en' else 'Genera 2 imágenes abstractas con colores
                                            púrpura y rosa para Instagram Story' }}
                                        </p>
                                    </div>
                                </div>

                                <!-- AI Response -->
                                <div class="mb-6 flex justify-start animate-fadeIn" style="animation-delay: 0.1s">
                                    <div class="max-w-3xl">
                                        <div
                                            class="relative rounded-2xl overflow-hidden shadow-lg border border-gray-100 dark:border-gray-800">
                                            <img src="/static/images/hero/hero-image-01.png"
                                                class="w-full object-cover h-[300px]" alt="Generated Image" />
                                        </div>
                                        <div class="mt-4 flex flex-col gap-3">
                                            <button
                                                class="flex h-10 w-fit items-center gap-2 rounded-xl border border-gray-100 bg-white px-4 py-2 text-sm font-bold text-indigo-600 hover:bg-indigo-50 transition-colors shadow-sm dark:border-gray-800 dark:bg-gray-900 dark:text-indigo-400">
                                                <span class="material-symbols-outlined text-base">download</span>
                                                {{ 'Download Asset' if locale == 'en' else 'Descargar Elemento' }}
                                            </button>
                                            <p
                                                class="text-sm leading-relaxed font-medium text-gray-500 dark:text-gray-400">
                                                {{ 'Here is the abstract concept. The gradients match your brand
                                                identity and color palette recommendations.' if locale == 'en' else
                                                'Aquí tienes el concepto abstracto. Los degradados coinciden con tu
                                                identidad de marca y recomendaciones de paleta de colores.' }}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Input Area -->
                    <div
                        class="fixed bottom-5 left-1/2 z-20 w-full -translate-x-1/2 transform px-4 sm:px-6 lg:bottom-10 lg:px-8 xl:left-[calc(50%+145px)]">
                        <div
                            class="mx-auto w-full max-w-[720px] rounded-2xl border border-gray-100 bg-white/80 p-5 shadow-2xl backdrop-blur-xl dark:border-gray-800 dark:bg-black/60">
                            <textarea
                                placeholder="{{ 'Describe the creative asset you need...' if locale == 'en' else 'Describe el elemento creativo que necesitas...' }}"
                                class="h-14 w-full resize-none border-none bg-transparent p-0 font-medium text-gray-900 outline-none placeholder:text-gray-400 focus:ring-0 dark:text-white"></textarea>
                            <div
                                class="flex items-center justify-between pt-4 border-t border-gray-50 dark:border-gray-800 mt-2">
                                <button
                                    class="flex items-center gap-2 text-sm font-bold text-gray-500 hover:text-indigo-600 transition-colors dark:text-gray-400 dark:hover:text-indigo-400">
                                    <span class="material-symbols-outlined text-base">add_photo_alternate</span>
                                    {{ 'Reference Image' if locale == 'en' else 'Imagen de Referencia' }}
                                </button>
                                <button
                                    class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-indigo-600 text-white shadow-theme-xs hover:bg-indigo-700 transition">
                                    <span class="material-symbols-outlined">send</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- History Sidebar (Desktop) -->
                    <aside
                        class="hidden xl:flex z-50 w-[300px] flex-col border-l border-gray-100 bg-white p-8 dark:border-gray-800 dark:bg-black/20 h-full">
                        <button
                            class="bg-indigo-600 border border-indigo-500 shadow-lg hover:shadow-indigo-500/20 hover:bg-indigo-700 flex w-full items-center justify-center gap-2 rounded-xl px-4 py-3.5 text-sm font-bold text-white transition-all">
                            <span class="material-symbols-outlined text-base">add</span>
                            {{ 'New Brief' if locale == 'en' else 'Nueva Tarea' }}
                        </button>
                        <div class="mt-8 flex-1 overflow-y-auto custom-scrollbar">
                            <p class="mb-4 pl-1 text-[10px] font-bold text-gray-400 uppercase tracking-widest">{{
                                'Recent Briefs' if locale == 'en' else 'Tareas Recientes' }}</p>
                            <ul class="space-y-1">
                                <li
                                    class="group rounded-xl px-4 py-3 hover:bg-indigo-50 transition-colors cursor-pointer dark:hover:bg-indigo-900/20">
                                    <span
                                        class="block truncate text-sm font-bold text-gray-700 group-hover:text-indigo-600 dark:text-gray-400 dark:group-hover:text-indigo-400">
                                        {{ 'Summer Sale Banners' if locale == 'en' else 'Banners Rebajas Verano' }}
                                    </span>
                                </li>
                                <li
                                    class="group rounded-xl px-4 py-3 hover:bg-indigo-50 transition-colors cursor-pointer dark:hover:bg-indigo-900/20">
                                    <span
                                        class="block truncate text-sm font-bold text-gray-700 group-hover:text-indigo-600 dark:text-gray-400 dark:group-hover:text-indigo-400">
                                        {{ 'Black Friday Video Script' if locale == 'en' else 'Script Video Black
                                        Friday' }}
                                    </span>
                                </li>
                            </ul>
                        </div>
                    </aside>

                    <!-- Sidebar Overlay (Mobile) -->
                    <div x-show="isSidebarOpen" @click="isSidebarOpen = false" x-transition.opacity
                        class="fixed inset-0 z-[99999] bg-black/60 xl:hidden backdrop-blur-sm"></div>

                    <!-- Sidebar (Mobile) -->
                    <aside
                        :class="isSidebarOpen ? 'flex fixed top-0 right-0 z-[999999] h-screen bg-white dark:bg-gray-900' : 'hidden'"
                        class="z-50 w-[280px] flex-col border-l border-gray-100 p-6 ease-in-out dark:border-gray-800">
                        <button
                            class="bg-indigo-600 hover:bg-indigo-700 flex w-full items-center justify-center gap-2 rounded-xl px-4 py-3 text-sm font-bold text-white transition">
                            <span class="material-symbols-outlined text-base">add</span>
                            {{ 'New Brief' if locale == 'en' else 'Nueva Tarea' }}
                        </button>
                    </aside>
                </div>
            </div>
        </main>
    </div>
</div>
{% endblock %}
{% endblock %}