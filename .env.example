# =============================================================================
# TACTICS CONFIGURATION
# =============================================================================
# This file contains all environment variables needed for Tactics to function.
# Copy this file to .env and fill in your values.
#
# For INTERNAL (Tactics operations): Fill all sections
# For CLIENTS: Only fill sections marked [CLIENT]
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE [CLIENT]
# -----------------------------------------------------------------------------
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key  # Only for admin operations

# Local cache (fallback when Supabase unavailable)
LOCAL_CACHE_PATH=.cache/tactics.db
RETRY_QUEUE_PATH=.cache/retry_queue.json

# -----------------------------------------------------------------------------
# DATA CONNECTORS [CLIENT]
# -----------------------------------------------------------------------------

# Shopify
SHOPIFY_API_KEY=your-shopify-api-key
SHOPIFY_API_SECRET=your-shopify-api-secret
SHOPIFY_STORE_URL=your-store.myshopify.com
SHOPIFY_ACCESS_TOKEN=your-access-token

# Meta (Facebook) Ads
META_APP_ID=your-meta-app-id
META_APP_SECRET=your-meta-app-secret
META_ACCESS_TOKEN=your-long-lived-access-token
META_AD_ACCOUNT_ID=act_123456789

# Google Ads
GOOGLE_ADS_CLIENT_ID=your-client-id
GOOGLE_ADS_CLIENT_SECRET=your-client-secret
GOOGLE_ADS_REFRESH_TOKEN=your-refresh-token
GOOGLE_ADS_DEVELOPER_TOKEN=your-developer-token
GOOGLE_ADS_CUSTOMER_ID=your-customer-id

# Google Analytics 4
GA4_PROPERTY_ID=your-property-id
GOOGLE_APPLICATION_CREDENTIALS=path/to/service-account.json

# Google Search Console
GSC_SITE_URL=https://your-website.com

# Klaviyo
KLAVIYO_API_KEY=your-private-api-key

# Stripe
STRIPE_SECRET_KEY=sk_live_your-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# TikTok Ads
TIKTOK_APP_ID=your-app-id
TIKTOK_APP_SECRET=your-app-secret
TIKTOK_ACCESS_TOKEN=your-access-token
TIKTOK_ADVERTISER_ID=your-advertiser-id

# -----------------------------------------------------------------------------
# SECURE VAULT (Internxt / Backup Storage) [CLIENT]
# -----------------------------------------------------------------------------
# Backend: 'local', 'internxt_s3', 'internxt_webdav', or 'aws_s3'
VAULT_BACKEND=local

# Internxt S3-compatible API
INTERNXT_S3_ENDPOINT=https://s3.internxt.com
INTERNXT_ACCESS_KEY=your-access-key
INTERNXT_SECRET_KEY=your-secret-key
INTERNXT_BUCKET=tactics-vault

# Internxt WebDAV (alternative)
INTERNXT_WEBDAV_URL=https://webdav.internxt.com
INTERNXT_WEBDAV_USER=your-email
INTERNXT_WEBDAV_PASSWORD=your-password

# Local vault path (fallback)
VAULT_LOCAL_PATH=.vault

# Encryption master key (REQUIRED for zero-knowledge encryption)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
VAULT_MASTER_KEY=

# -----------------------------------------------------------------------------
# AI / LLM (Internal Use) [INTERNAL]
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-your-openai-key
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key

# -----------------------------------------------------------------------------
# APPLICATION [CLIENT]
# -----------------------------------------------------------------------------
# Environment: 'development', 'staging', 'production'
ENVIRONMENT=development

# App settings
APP_SECRET_KEY=your-secret-key-for-sessions
APP_DEBUG=false
APP_HOST=0.0.0.0
APP_PORT=8000

# CORS (comma-separated list of allowed origins)
CORS_ORIGINS=http://localhost:3000,https://your-domain.com

# -----------------------------------------------------------------------------
# ALGORITHMS CONFIGURATION [CLIENT]
# -----------------------------------------------------------------------------
# LTV/Churn model type: 'bgnbd' or 'pareto'
LTV_MODEL_TYPE=auto

# MMM confidence level (0.0-1.0)
MMM_CONFIDENCE_LEVEL=0.95

# Minimum support for ECLAT (0.0-1.0)
ECLAT_MIN_SUPPORT=0.05

# -----------------------------------------------------------------------------
# TACTICS INTERNAL FINANCIALS [INTERNAL]
# -----------------------------------------------------------------------------
# These are for Tactics' own financial tracking, not for clients

# Monthly fixed costs (EUR)
TACTICS_COST_SUPABASE=25
TACTICS_COST_VERCEL=20
TACTICS_COST_OPENAI=50
TACTICS_COST_DOMAIN=2
TACTICS_COST_MISC=10

# Fund allocation profile: 'aggressive_growth', 'balanced', 'cash_preservation', 'bootstrap'
TACTICS_ALLOCATION_PROFILE=aggressive_growth

# Current cash balance (for runway calculations)
TACTICS_CASH_BALANCE=0

# -----------------------------------------------------------------------------
# NOTIFICATIONS [INTERNAL]
# -----------------------------------------------------------------------------
# Slack webhook for alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/yyy/zzz

# Email for critical alerts
ALERT_EMAIL=founder@tactics.ai

# -----------------------------------------------------------------------------
# MONITORING [INTERNAL]
# -----------------------------------------------------------------------------
# Sentry for error tracking
SENTRY_DSN=https://xxx@sentry.io/yyy

# PostHog for product analytics
POSTHOG_API_KEY=phc_your-key
POSTHOG_HOST=https://eu.posthog.com

# -----------------------------------------------------------------------------
# FEATURE FLAGS [INTERNAL]
# -----------------------------------------------------------------------------
FEATURE_VAULT_BACKUP=true
FEATURE_COHORT_ANALYSIS=true
FEATURE_ADVANCED_MMM=true
